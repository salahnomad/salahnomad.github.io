{{/* ==========================================================================
   Shortcode: Testimonial Card
   Purpose: Display social proof testimonials with elegant styling
   Usage: 
     {{< testimonial-card author="Name" role="Role" source="Source" >}}
     Your testimonial content here...
     {{< /testimonial-card >}}
   ========================================================================== */}}

{{ $author := .Get "author" }}
{{ $role := .Get "role" }}
{{ $source := .Get "source" }}
{{ $testimonial_id := printf "testimonial-%s" (md5 (printf "%s%s%s" $author $role $source)) }}

<blockquote class="testimonial-card" 
            id="{{ $testimonial_id }}"
            data-author="{{ $author }}"
            data-role="{{ $role }}"
            data-source="{{ $source }}"
            itemscope 
            itemtype="https://schema.org/Review">
  
  <div class="testimonial-card-content" itemprop="reviewBody">
    {{ .Inner | .Page.RenderString }}
  </div>
  
  <footer class="testimonial-card-footer">
    <div class="testimonial-card-author" itemprop="author" itemscope itemtype="https://schema.org/Person">
      <span itemprop="name">{{ $author }}</span>
      {{ with $role }}<span class="testimonial-card-role" itemprop="jobTitle">{{ . }}</span>{{ end }}
    </div>
    
    {{ with $source }}
    <div class="testimonial-card-source" itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
      <span itemprop="name">{{ . }}</span>
    </div>
    {{ end }}
    
    <!-- Microdata for rating (optional) -->
    <div class="testimonial-card-rating" itemprop="reviewRating" itemscope itemtype="https://schema.org/Rating" style="display: none;">
      <meta itemprop="worstRating" content="1">
      <meta itemprop="bestRating" content="5">
      <span itemprop="ratingValue">5</span>
    </div>
  </footer>
</blockquote>