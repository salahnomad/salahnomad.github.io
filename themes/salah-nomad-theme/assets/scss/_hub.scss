// =============================================================================
// Hub Page Styles - CORRIGÉ
// =============================================================================

@import 'variables'; 

// Variables
$hub-max-width: 1200px;
$hub-padding: 2rem 1rem;
$hub-featured-image-height: 400px;
$hub-card-min-width: 300px;
$hub-grid-gap: 2rem;

// --- CONTENEUR PRINCIPAL CORRIGÉ ---
.hub-page-container {
  max-width: $hub-max-width;
  margin: 0 auto;
  padding: $hub-padding;
  box-sizing: border-box; // IMPORTANT
  overflow-x: hidden; // EMPÊCHE LE DÉBORDEMENT

  &.has-sidebar {
    display: grid;
    grid-template-columns: 1fr;
    gap: 3rem;

    @media (min-width: 992px) {
      grid-template-columns: minmax(0, 1fr) 300px; // minmax(0, 1fr) pour éviter le débordement
    }
  }
}

// CONTENU PRINCIPAL - GARANTIR QU'IL NE DÉBORDE PAS
.hub-main-content {
  min-width: 0; // IMPORTANT pour Flexbox/Grid
  overflow-wrap: break-word; // Casse les mots longs
  
  .hub-header {
    text-align: center;
    margin-bottom: 3rem;

    .hub-featured-image {
      width: 100%;
      max-height: $hub-featured-image-height;
      object-fit: cover;
      border-radius: 12px;
      margin-bottom: 2rem;
    }
  }

  // ... le reste de votre code existant ...
}

// GRILLE D'ARTICLES - S'ASSURER QU'ELLE NE DÉBORDE PAS
.hub-spokes-section {
  margin-top: 4rem;
  width: 100%;
  box-sizing: border-box;

  h2 {
    text-align: center;
    margin-bottom: 2rem;
    font-size: 2rem;
    color: var(--color-heading);
  }

  .spokes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax($hub-card-min-width, 1fr));
    gap: $hub-grid-gap;
    margin-top: 2rem;
    width: 100%;
    box-sizing: border-box;
  }
}

// RESPONSIVE - CORRECTION DU DÉBORDEMENT SUR MOBILE
@media (max-width: 768px) {
  .hub-page-container {
    padding: 1rem 0.5rem; // Padding réduit sur mobile
    width: 100%;
  }
  
  .spokes-grid, .hub-nav-grid {
    grid-template-columns: 1fr;
  }

  .hub-context-nav .hub-nav-card.next-hub {
    text-align: left;
  }
}

// SÉCURITÉ SUPPLÉMENTAIRE POUR TOUTES LES IMAGES
.hub-featured-image,
.article-card img,
.responsive-image,
.thumbnail-wrap img {
  max-width: 100%;
  height: auto;
  display: block;
}

// CORRECTION GLOBALE DU BODY
body {
  overflow-x: hidden;
  width: 100%;
}